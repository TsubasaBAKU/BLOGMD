---
title: 硬盘基本知识
date: 2016-06-08 18:57:10
tags:
	- 硬盘
categories:
	- ELSE
---
# 磁道、扇区、柱面和磁头数

![cmd-markdown-logo](https://raw.githubusercontent.com/TsubasaBAKU/BLOGIMG/master/hardware1.jpg)

硬盘最基本的组成部分是由坚硬金属材料制成的涂以磁性介质的盘片，不同容量的硬盘盘片数量不等。每个盘片有两面，都可以记录信息。盘片被分成许多扇形的区域，每个区域叫一个扇区，每个扇区可存储128*2的N次方（N=0 1 2 3）字节信息。在DOS中每个扇区是512个字节。盘片表面上，以盘片中心为圆心，不同半径的同心圆称为磁道，不同盘片的相同磁道组成柱面。每个磁盘有两个面，每个面都有一个磁头，习惯用磁头号来区分。硬盘容量计算公式为：硬盘容量=磁头数*每个磁头的柱面*每个柱面的扇区*扇区容量。
<!--more-->
## 磁道

当磁盘旋转时，磁头若保持在一个位置上，则每个磁头都会在圆盘上划一个圆形轨道，这些圆形轨道就叫做磁道。磁盘上的信息是沿着磁道存放的，相邻的磁道之间并不是紧挨着的，因为磁化单位太近了会互相产生影响，同时也为磁头的读写带来困难。
![cmd-markdown-logo](https://raw.githubusercontent.com/TsubasaBAKU/BLOGIMG/master/hardware2.jpg)

## 扇区

磁盘上的每个磁道被分为若干个弧段，这些弧段便是扇区。每个扇区可以存放512个字节的信息，磁盘驱动器在向磁盘读写数据是都要以扇区为单位。

## 柱面

硬盘通常由重叠的一组盘片组成，每个盘片都被划分成数目相同的磁道，并从外缘0开始编号，具有相同编号的磁道形成一个圆柱，称之为柱面。磁盘的柱面数与一个盘面上的磁道数是相等的。
![cmd-markdown-logo](https://raw.githubusercontent.com/TsubasaBAKU/BLOGIMG/master/hardware3.gif)

# 簇

“簇”是DOS进行分配的最小单位。当创建一个很小的文件时，如是一个字节，则它在磁盘上并不是只占一个字节的空间，而是占有整个一簇。DOS视不同的存储介质（如软盘，硬盘），不同容量的硬盘，簇的大小也不一样。簇的大小可在称为磁盘参数块（BPB）中获取。簇的概念仅适用于数据区。
本点：
（1）“簇”是DOS进行分配的最小单位。
（2）不同的存储介质，不同容量的硬盘，不同的DOS版本，簇的大小也不一样。
（3）簇的概念仅适用于数据区。

# 扇区编号定义：绝对扇区与DOS扇区

由前面介绍可知，我们可以用柱面/磁头/扇区来唯一定位磁盘上每一个区域，或是说柱面/磁头/扇区与磁盘上每一个扇区有一一对应关系，通常DOS将“柱 面/磁头/扇区”这样表示法称为“绝对扇区”表示法。但DOS不能直接使用绝对扇区进行磁盘上的信息管理，而是用所谓“相对扇区”或“DOS扇区”。“相 对扇区”只是一个数字，如柱面140，磁头3，扇区4对应的相对扇区号为2757。该数字与绝对扇区“柱面/磁头/扇区”具有一一对应关系。当使用相对扇 区编号时，DOS是从柱面0，磁头1，扇区1开始（注：柱面0，磁头0，扇区1没有DOS扇区编号，DOS下不能访问，只能调用BIOS访问），第一个 DOS扇区编号为0，该磁道上剩余的扇区编号为1到16（设每磁道17个扇区），然后是磁头号为2，柱面为0的17个扇区，形成的DOS扇区号从17到 33。直到该柱面的所有磁头。然后再移到柱面1，磁头1，扇区1继续进行DOS扇区的编号，即按扇区号，磁头号，柱面号（磁道号）增长的顺序连续地分配 DOS扇区号。
公式：记DH－－第一个DOS扇区的磁头号
DC－－第一个DOS扇区的柱面号
DS－－第一个DOS扇区的扇区号
NS－－每磁道扇区数
NH－－磁盘总的磁头数
则某扇区（柱面C，磁头H，扇区S）的相对扇区号RS为：
RS＝NH×NS×（C－DC）＋NS×（H－DH）＋（S－DS）
若已知RS，DC，DH，DS，NS和NH则
S＝（RS　MOD　NS）＋DS
H＝（（RS　DIV　NS）MOD　NH）＋DH
C＝（（RS　DIV　NS）DIV　NH）＋DC
要点：（1）以柱面/磁头/扇区表示的为绝对扇区又称物理磁盘地址
（2）单一数字表示的为相对扇区或DOS扇区，又称逻辑扇区号
（3）相对扇区与绝对扇区的转换公式